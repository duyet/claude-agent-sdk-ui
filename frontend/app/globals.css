@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Claude.ai Light Mode - Crail Terracotta Theme */
    --background: 40 20% 96%; /* #FAF9F6 warm off-white */
    --foreground: 30 8% 12%; /* #1f1e1b dark brown */
    --card: 0 0% 100%; /* #FFFFFF pure white */
    --card-foreground: 30 8% 12%; /* #1f1e1b */
    --popover: 0 0% 100%; /* #FFFFFF */
    --popover-foreground: 30 8% 12%; /* #1f1e1b */
    --primary: 14 54% 50%; /* #C15F3C Claude Crail orange */
    --primary-foreground: 0 0% 100%; /* White text on primary */
    --primary-hover: 20 25% 35%; /* Light muted warm brown for hover */
    --secondary: 40 15% 95%; /* #F7F6F3 warm light gray */
    --secondary-foreground: 30 8% 12%; /* #1f1e1b */
    --muted: 40 12% 94%; /* #F5F4F1 warm muted */
    --muted-foreground: 30 4% 46%; /* #787672 muted text */
    --accent: 40 10% 90%; /* Light warm gray for hover states */
    --accent-foreground: 30 8% 12%; /* #1f1e1b */
    --destructive: 0 72% 51%; /* #dc2626 Red */
    --destructive-foreground: 0 0% 100%; /* White */
    --border: 30 8% 85%; /* #DAD8D3 warm border */
    --input: 30 8% 85%; /* #DAD8D3 */
    --ring: 14 54% 50%; /* #C15F3C */
    --radius: 0.5rem; /* 8px */

    /* User message - subtle warm tint like Claude.ai */
    --user-message: 35 20% 92%; /* #EBE8E2 light warm cream */
    --user-message-foreground: 30 8% 15%; /* #2A2926 dark text */
    --user-icon-bg: 35 15% 85%; /* #D8D5CE warm gray */

    /* Assistant bubble - subtle warm tint */
    --assistant-bg: 40 20% 98%; /* Very subtle warm white */

    /* Tool colors - used for tool icons, borders, and badges */
    --tool-bash: 38 92% 50%; /* amber-500 */
    --tool-read: 217 91% 60%; /* blue-500 */
    --tool-write: 142 71% 45%; /* green-500 */
    --tool-search: 270 91% 65%; /* purple-500 */
    --tool-web: 189 94% 43%; /* cyan-500 */
    --tool-task: 25 95% 53%; /* orange-500 */
    --tool-question: 330 81% 60%; /* pink-500 */
    --tool-plan: 251 91% 65%; /* violet-500 - for EnterPlanMode/ExitPlanMode */
    --tool-mcp: 168 84% 45%; /* emerald-500 - for MCP tools */
    --tool-default: var(--primary);

    /* Code block colors */
    --code-bg: 240 6% 10%; /* zinc-900 */
    --code-fg: 240 5% 96%; /* zinc-100 */
    --code-prompt: 38 92% 50%; /* amber-400 for $ prompt */

    /* JSON syntax highlighting */
    --json-bg: 0 0% 12%; /* #1e1e1e */
    --json-fg: 0 0% 83%; /* #d4d4d4 */
    --json-key: 196 78% 81%; /* #9cdcfe */
    --json-string: 17 47% 64%; /* #ce9178 */
    --json-number: 95 38% 70%; /* #b5cea8 */
    --json-keyword: 210 68% 59%; /* #569cd6 */
    --json-line-number: 212 9% 46%; /* #6e7681 */
    --json-border: 0 0% 24%; /* #3d3d3d */

    /* Error output colors */
    --error-bg: 0 62% 20%; /* red-950/30 equivalent */
    --error-fg: 0 93% 82%; /* red-200 */
    --error-border: 0 72% 51%; /* red-500 */

    /* Progress bar colors */
    --progress-high: 142 71% 45%; /* green-500 */
    --progress-medium: 48 96% 53%; /* yellow-500 */
    --progress-low: 0 72% 51%; /* red-500 */

    /* Content type badge colors */
    --badge-error-bg: 0 72% 51%; /* red-500 at 20% */
    --badge-error-fg: 0 91% 71%; /* red-400 */
    --badge-json-bg: 217 91% 60%; /* blue-500 at 20% */
    --badge-json-fg: 213 94% 68%; /* blue-400 */
    --badge-code-bg: 270 91% 65%; /* purple-500 at 20% */
    --badge-code-fg: 270 95% 75%; /* purple-400 */
  }

  .dark {
    /* Claude.ai Dark Mode - Crail Terracotta Theme with True Black */
    --background: 240 10% 4%; /* #0a0a0a Claude's signature near-black */
    --foreground: 0 0% 95%; /* #f2f2f2 pure white text */
    --card: 240 10% 7%; /* #111111 elevated surface */
    --card-foreground: 0 0% 95%; /* #f2f2f2 */
    --popover: 240 10% 9%; /* #161616 popover bg */
    --popover-foreground: 0 0% 95%; /* #f2f2f2 */
    --primary: 14 54% 50%; /* #C15F3C Claude Crail orange */
    --primary-foreground: 0 0% 100%; /* White text */
    --primary-hover: 20 25% 60%; /* Light muted warm brown for hover */
    --secondary: 240 6% 12%; /* #1e1e1e secondary */
    --secondary-foreground: 0 0% 95%; /* #f2f2f2 */
    --muted: 240 6% 15%; /* #252525 muted bg */
    --muted-foreground: 240 5% 65%; /* #a0a0a0 muted text */
    --accent: 240 6% 20%; /* Dark muted gray for hover states */
    --accent-foreground: 0 0% 95%; /* Light text */
    --destructive: 0 72% 55%; /* Brighter red for dark mode */
    --destructive-foreground: 0 0% 100%; /* White */
    --border: 240 6% 20%; /* #333333 border */
    --input: 240 6% 20%; /* #333333 */
    --ring: 14 54% 50%; /* #C15F3C */

    /* User message - matching Claude.ai dark theme */
    --user-message: 240 8% 16%; /* #252525 subtle dark warm */
    --user-message-foreground: 0 0% 94%; /* #f0f0f0 white text */
    --user-icon-bg: 240 6% 22%; /* #383838 icon bg */

    /* Assistant bubble - subtle dark tint */
    --assistant-bg: 240 10% 4%; /* Same as background */

    /* Tool colors - muted/subtle for Claude.ai aesthetic */
    --tool-bash: 38 85% 48%;
    --tool-read: 217 75% 55%;
    --tool-write: 142 65% 42%;
    --tool-search: 270 75% 60%;
    --tool-web: 189 80% 40%;
    --tool-task: 25 85% 50%;
    --tool-question: 330 70% 55%;
    --tool-plan: 251 75% 60%; /* violet - for EnterPlanMode/ExitPlanMode */
    --tool-mcp: 168 70% 42%; /* emerald - for MCP tools */
    --tool-default: 240 10% 40%;

    /* Code block colors - darker for dark mode */
    --code-bg: 240 6% 3%; /* #080808 near black */
    --code-fg: 0 0% 95%; /* #f2f2f2 */
    --code-prompt: 43 96% 56%; /* amber-400 */

    /* JSON syntax highlighting - same as light */
    --json-bg: 240 10% 3%; /* #080808 */
    --json-fg: 0 0% 90%; /* #e6e6e6 */
    --json-key: 196 78% 81%;
    --json-string: 17 47% 64%;
    --json-number: 95 38% 70%;
    --json-keyword: 210 68% 59%;
    --json-line-number: 212 9% 46%;
    --json-border: 240 6% 20%; /* #333333 */

    /* Error output colors */
    --error-bg: 0 62% 12%; /* Darker error bg */
    --error-fg: 0 93% 82%;
    --error-border: 0 72% 55%; /* Brighter border */

    /* Progress bar colors */
    --progress-high: 142 71% 45%;
    --progress-medium: 48 96% 53%;
    --progress-low: 0 72% 51%;

    /* Content type badge colors */
    --badge-error-bg: 0 72% 51%;
    --badge-error-fg: 0 91% 71%;
    --badge-json-bg: 217 91% 60%;
    --badge-json-fg: 213 94% 68%;
    --badge-code-bg: 270 91% 65%;
    --badge-code-fg: 270 95% 75%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 16px;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.25;
  }

  h1 { font-size: 31px; }
  h2 { font-size: 25px; }
  h3 { font-size: 20px; }
  h4 { font-size: 16px; }

  code, pre {
    font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
    font-size: 14px;
  }
}

/* Custom scrollbar - Claude.ai style */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.3) hsl(var(--muted));
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.5);
  }
}

/* Code styling */
@layer base {
  .prose {
    max-width: none;
  }

  /* Override prose pre/code to use our custom CodeBlock component */
  .prose pre {
    @apply my-4;
    background: transparent;
    border: none;
  }

  .prose code {
    font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
    font-size: 13px;
    color: hsl(var(--foreground));
  }

  /* Inline code styling */
  .prose :not(pre) > code {
    @apply bg-muted/50 px-1.5 py-0.5 rounded text-xs;
    border: 1px solid hsl(var(--border) / 0.5);
    font-weight: 500;
  }

  /* Links */
  .prose a {
    @apply text-primary underline underline-offset-2 decoration-primary/30;
    transition: text-decoration-color 0.2s;
  }

  .prose a:hover {
    @apply decoration-primary;
  }

  /* Lists */
  .prose ul {
    @apply list-disc pl-6 my-4 space-y-1;
  }

  .prose ol {
    @apply list-decimal pl-6 my-4 space-y-1;
  }

  .prose li {
    @apply leading-relaxed;
  }

  /* Blockquotes */
  .prose blockquote {
    @apply border-l-4 border-primary pl-4 italic text-muted-foreground my-4;
  }

  /* Tables */
  .prose table {
    @apply w-full my-4 border-collapse;
  }

  .prose th,
  .prose td {
    @apply border px-3 py-2 text-sm;
  }

  .prose th {
    @apply font-medium bg-muted;
  }

  /* Headings */
  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4 {
    @apply font-semibold mt-6 mb-2;
  }

  .prose h1 {
    @apply text-2xl;
  }

  .prose h2 {
    @apply text-xl;
  }

  .prose h3 {
    @apply text-lg;
  }
}

/* Smooth transitions for Claude.ai feel */
@layer base {
  button, a, input {
    @apply transition-all duration-200;
  }
}

/* Remove all focus styles from chat textarea */
.chat-textarea,
.chat-textarea:focus,
.chat-textarea:focus-visible,
.chat-textarea:active {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

/* User message utilities */
@layer utilities {
  .bg-userMessage {
    background-color: hsl(var(--user-message));
  }

  .text-userMessageForeground {
    color: hsl(var(--user-message-foreground));
  }

  .bg-userIconBg {
    background-color: hsl(var(--user-icon-bg));
  }
}
