@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Claude.ai Light Mode - Crail Terracotta Theme */
    --background: 40 20% 96%; /* #FAF9F6 warm off-white */
    --foreground: 30 8% 12%; /* #1f1e1b dark brown */
    --card: 0 0% 100%; /* #FFFFFF pure white */
    --card-foreground: 30 8% 12%; /* #1f1e1b */
    --popover: 0 0% 100%; /* #FFFFFF */
    --popover-foreground: 30 8% 12%; /* #1f1e1b */
    --primary: 14 54% 50%; /* #C15F3C Claude Crail orange */
    --primary-foreground: 0 0% 100%; /* White text on primary */
    --primary-hover: 14 54% 45%; /* Slightly darker for hover */
    --secondary: 40 15% 95%; /* #F7F6F3 warm light gray */
    --secondary-foreground: 30 8% 12%; /* #1f1e1b */
    --muted: 40 12% 94%; /* #F5F4F1 warm muted */
    --muted-foreground: 30 4% 46%; /* #787672 muted text */
    --accent: 14 54% 50%; /* #C15F3C matching primary */
    --accent-foreground: 30 8% 12%; /* #1f1e1b */
    --destructive: 0 72% 51%; /* #dc2626 Red */
    --destructive-foreground: 0 0% 100%; /* White */
    --border: 30 8% 85%; /* #DAD8D3 warm border */
    --input: 30 8% 85%; /* #DAD8D3 */
    --ring: 14 54% 50%; /* #C15F3C */
    --radius: 0.5rem; /* 8px */

    /* User message - warm cream like Claude.ai */
    --user-message: 35 25% 88%; /* #E8E4D9 warm cream */
    --user-message-foreground: 30 8% 12%; /* #1f1e1b dark text */
    --user-icon-bg: 30 4% 55%; /* #918E8A warm gray */

    /* Assistant bubble - subtle warm tint */
    --assistant-bg: 40 20% 98%; /* Very subtle warm white */

    /* Tool colors - used for tool icons, borders, and badges */
    --tool-bash: 38 92% 50%; /* amber-500 */
    --tool-read: 217 91% 60%; /* blue-500 */
    --tool-write: 142 71% 45%; /* green-500 */
    --tool-search: 270 91% 65%; /* purple-500 */
    --tool-web: 189 94% 43%; /* cyan-500 */
    --tool-task: 25 95% 53%; /* orange-500 */
    --tool-question: 330 81% 60%; /* pink-500 */
    --tool-default: var(--primary);

    /* Code block colors */
    --code-bg: 240 6% 10%; /* zinc-900 */
    --code-fg: 240 5% 96%; /* zinc-100 */
    --code-prompt: 38 92% 50%; /* amber-400 for $ prompt */

    /* JSON syntax highlighting */
    --json-bg: 0 0% 12%; /* #1e1e1e */
    --json-fg: 0 0% 83%; /* #d4d4d4 */
    --json-key: 196 78% 81%; /* #9cdcfe */
    --json-string: 17 47% 64%; /* #ce9178 */
    --json-number: 95 38% 70%; /* #b5cea8 */
    --json-keyword: 210 68% 59%; /* #569cd6 */
    --json-line-number: 212 9% 46%; /* #6e7681 */
    --json-border: 0 0% 24%; /* #3d3d3d */

    /* Error output colors */
    --error-bg: 0 62% 20%; /* red-950/30 equivalent */
    --error-fg: 0 93% 82%; /* red-200 */
    --error-border: 0 72% 51%; /* red-500 */

    /* Progress bar colors */
    --progress-high: 142 71% 45%; /* green-500 */
    --progress-medium: 48 96% 53%; /* yellow-500 */
    --progress-low: 0 72% 51%; /* red-500 */

    /* Content type badge colors */
    --badge-error-bg: 0 72% 51%; /* red-500 at 20% */
    --badge-error-fg: 0 91% 71%; /* red-400 */
    --badge-json-bg: 217 91% 60%; /* blue-500 at 20% */
    --badge-json-fg: 213 94% 68%; /* blue-400 */
    --badge-code-bg: 270 91% 65%; /* purple-500 at 20% */
    --badge-code-fg: 270 95% 75%; /* purple-400 */
  }

  .dark {
    /* Claude.ai Dark Mode - Crail Terracotta Theme */
    --background: 30 6% 12%; /* #201f1d dark warm */
    --foreground: 30 8% 90%; /* #E8E6E3 light text */
    --card: 30 6% 15%; /* #282725 card bg */
    --card-foreground: 30 8% 90%; /* #E8E6E3 */
    --popover: 30 6% 15%; /* #282725 */
    --popover-foreground: 30 8% 90%; /* #E8E6E3 */
    --primary: 14 54% 50%; /* #C15F3C Claude Crail */
    --primary-foreground: 0 0% 100%; /* White text */
    --primary-hover: 14 54% 55%; /* Slightly lighter for dark hover */
    --secondary: 30 4% 18%; /* #302e2c dark secondary */
    --secondary-foreground: 30 8% 90%; /* #E8E6E3 */
    --muted: 30 4% 18%; /* #302e2c */
    --muted-foreground: 30 6% 55%; /* #918D88 muted text */
    --accent: 14 54% 50%; /* #C15F3C same orange */
    --accent-foreground: 30 8% 90%; /* #E8E6E3 */
    --destructive: 0 62% 40%; /* Darker red for dark mode */
    --destructive-foreground: 0 0% 100%; /* White */
    --border: 30 4% 25%; /* #424039 darker border */
    --input: 30 4% 25%; /* #424039 */
    --ring: 14 54% 50%; /* #C15F3C */

    /* User message - matching Claude.ai dark theme */
    --user-message: 30 6% 18%; /* #302e2b subtle warm dark */
    --user-message-foreground: 40 10% 88%; /* #E3E0DA warm white text */
    --user-icon-bg: 30 8% 28%; /* #4a4744 warm gray icon */

    /* Assistant bubble - subtle dark tint */
    --assistant-bg: 30 6% 14%; /* Slightly lighter than bg */

    /* Tool colors - consistent with light mode hues */
    --tool-bash: 38 92% 50%;
    --tool-read: 217 91% 60%;
    --tool-write: 142 71% 45%;
    --tool-search: 270 91% 65%;
    --tool-web: 189 94% 43%;
    --tool-task: 25 95% 53%;
    --tool-question: 330 81% 60%;
    --tool-default: var(--primary);

    /* Code block colors - darker for dark mode */
    --code-bg: 240 6% 6%; /* zinc-950 */
    --code-fg: 240 5% 96%;
    --code-prompt: 43 96% 56%; /* amber-400 */

    /* JSON syntax highlighting - same as light */
    --json-bg: 0 0% 8%;
    --json-fg: 0 0% 83%;
    --json-key: 196 78% 81%;
    --json-string: 17 47% 64%;
    --json-number: 95 38% 70%;
    --json-keyword: 210 68% 59%;
    --json-line-number: 212 9% 46%;
    --json-border: 0 0% 24%;

    /* Error output colors */
    --error-bg: 0 62% 15%;
    --error-fg: 0 93% 82%;
    --error-border: 0 72% 40%;

    /* Progress bar colors */
    --progress-high: 142 71% 45%;
    --progress-medium: 48 96% 53%;
    --progress-low: 0 72% 51%;

    /* Content type badge colors */
    --badge-error-bg: 0 72% 51%;
    --badge-error-fg: 0 91% 71%;
    --badge-json-bg: 217 91% 60%;
    --badge-json-fg: 213 94% 68%;
    --badge-code-bg: 270 91% 65%;
    --badge-code-fg: 270 95% 75%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 16px;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.25;
  }

  h1 { font-size: 31px; }
  h2 { font-size: 25px; }
  h3 { font-size: 20px; }
  h4 { font-size: 16px; }

  code, pre {
    font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
    font-size: 14px;
  }
}

/* Custom scrollbar - Claude.ai style */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.3) hsl(var(--muted));
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.5);
  }
}

/* Code styling */
@layer base {
  .prose {
    max-width: none;
  }

  .prose pre {
    @apply bg-muted rounded-lg my-4;
    border: 1px solid hsl(var(--border));
  }

  .prose code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm;
    font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
    font-size: 14px;
    color: hsl(var(--foreground));
    background-color: hsl(var(--muted));
    border: 1px solid hsl(var(--border));
  }

  .prose pre code {
    @apply bg-transparent p-0 border-0;
    background-color: transparent;
  }

  .prose p code {
    @apply text-sm;
  }

  /* Inline code styling */
  .prose :not(pre) > code {
    @apply text-xs;
    font-weight: 500;
  }

  /* Links */
  .prose a {
    @apply text-primary underline underline-offset-2 decoration-primary/30;
    transition: text-decoration-color 0.2s;
  }

  .prose a:hover {
    @apply decoration-primary;
  }

  /* Lists */
  .prose ul {
    @apply list-disc pl-6 my-4 space-y-1;
  }

  .prose ol {
    @apply list-decimal pl-6 my-4 space-y-1;
  }

  .prose li {
    @apply leading-relaxed;
  }

  /* Blockquotes */
  .prose blockquote {
    @apply border-l-4 border-primary pl-4 italic text-muted-foreground my-4;
  }

  /* Tables */
  .prose table {
    @apply w-full my-4 border-collapse;
  }

  .prose th,
  .prose td {
    @apply border px-3 py-2 text-sm;
  }

  .prose th {
    @apply font-medium bg-muted;
  }

  /* Headings */
  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4 {
    @apply font-semibold mt-6 mb-2;
  }

  .prose h1 {
    @apply text-2xl;
  }

  .prose h2 {
    @apply text-xl;
  }

  .prose h3 {
    @apply text-lg;
  }
}

/* Smooth transitions for Claude.ai feel */
@layer base {
  button, a, input {
    @apply transition-all duration-200;
  }
}

/* Remove all focus styles from chat textarea */
.chat-textarea,
.chat-textarea:focus,
.chat-textarea:focus-visible,
.chat-textarea:active {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
}

/* User message utilities */
@layer utilities {
  .bg-userMessage {
    background-color: hsl(var(--user-message));
  }

  .text-userMessageForeground {
    color: hsl(var(--user-message-foreground));
  }

  .bg-userIconBg {
    background-color: hsl(var(--user-icon-bg));
  }
}
